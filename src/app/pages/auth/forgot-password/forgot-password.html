<div class="forgot-page">
  <div class="head flex gap-1 align-items-center">
    <p-button rounded routerLink="/auth/login" text icon="pi pi-arrow-left"
              styleClass="text-white"/>
    <h3 class="my-0 text-2xl">Reset password</h3>
  </div>
  <div class="subhead text-color-secondary">
    <p>
      @switch (state()) {
        @case (ForgotPasswordState.EMAIL) { Enter your email to receive a verification code }
        @case (ForgotPasswordState.CODE) { Enter the verification token sent to your email }
        @case (ForgotPasswordState.PASSWORD) { Create a new password for your account }
      }
    </p>
  </div>
  <div class="fields mt-1">
    <p-stepper [value]="state()" [linear]="true">
      <p-step-panels>
        <p-step-panel [value]="ForgotPasswordState.EMAIL">
          <ng-template #content>
            <app-labeled-input label="Email Address">
              <p-iconfield>
                <p-inputicon class="pi pi-envelope"/>
                <input pInputText fluid type="email" placeholder="you@example.com"/>
              </p-iconfield>
            </app-labeled-input>
          </ng-template>
        </p-step-panel>
        <p-step-panel [value]="ForgotPasswordState.CODE">
          <ng-template #content>
            <app-labeled-input label="Verification Token">
              <p-iconfield>
                <p-inputicon class="pi pi-key"/>
                <p-inputNumber fluid placeholder="Enter token"/>
              </p-iconfield>
            </app-labeled-input>
          </ng-template>
        </p-step-panel>
        <p-step-panel [value]="ForgotPasswordState.PASSWORD">
          <ng-template #content>
            <app-labeled-input label="New Password">
              <p-password fluid placeholder="*******"/>
            </app-labeled-input>
            <app-labeled-input label="Confirm Password" class="mt-3">
              <p-password fluid placeholder="*******"/>
            </app-labeled-input>
          </ng-template>
        </p-step-panel>
      </p-step-panels>
    </p-stepper>
  </div>

  <div class="actions flex flex-column-reverse gap-3 mt-2">
    <p-button (onClick)="goBack()" fluid text label="Back"/>
    <p-button (onClick)="goNext()" class="w-full" fluid>Next</p-button>
  </div>
</div>
