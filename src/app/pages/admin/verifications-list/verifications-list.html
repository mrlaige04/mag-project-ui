<div class="verifications-list-page my-1">
  <p-table [value]="verifications()">
    <ng-template #header>
      <tr>
        <th>Document Type</th>
        <th>Document Number</th>
        <th>Issued At</th>
        <th>Expires At</th>
        <th>Uploaded At</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </ng-template>
    <ng-template #body let-verification>
      <tr>
        <td>{{ documentTypeDescriptions[verification.documentType] }}</td>
        <td>{{ verification.documentNumber || 'N/A' }}</td>
        <td>{{ verification.issuedDate | date }}</td>
        <td>{{ verification.expiryDate | date }}</td>
        <td>{{ verification.uploadedAt | date }}</td>
        <td>
          <app-document-status-badge [document]="verification"/>
        </td>
        <td>
          <div class="flex align-items-center gap-1">
            <p-button icon="pi pi-download" size="small" text (onClick)="download(verification)"/>

            @if (verification.status !== 'approved') {
              <p-button severity="success" icon="pi pi-check" size="small" text (onClick)="verify(verification)"/>

              @if (verification.status !== 'rejected') {
                <p-button severity="danger" icon="pi pi-times" size="small" text (onClick)="reject(verification)"/>
              }
            }
          </div>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
